<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quizit</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js" integrity="sha512-RNLkV3d+aLtfcpEyFG8jRbnWHxUqVZozacROI4J2F1sTaDqo1dPQYs01OMi1t1w9Y2FdbSCDSQ2ZVdAC8bzgAg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>    <!-- bootstrap bellow -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet"  href="./style.css"/>
    <link rel="stylesheet"  href="./main.css"/>
</head>
<body>

    <main class="main__container">
        <header class="header">
            <h1 class="title">X<span>QuiZ</span><span>iT</span>!</h1>
        </header>
        <div class="scoreboard">
                <h1 class="mode-title">Score Board</h1>
                <p class="desc">
                    Thank you for playing
                </p>            
                    <table>
                        <thead class="bg-light">
                        <tr>
                            <th>Player</th>
                            <th>Mode</th>
                            <th>Score</th>
                        </tr>
                    </thead>
                    <tbody id="leaderboard"></tbody>
                </table>
        </div>
        <footer class="footer">
            <div>
                <h2 class="footer__title">MatheMatica!</h2>
                <p>Quiz</p>
            </div>
            <a href="./scoreBoard.html" class="score__link">Scoreboard</a>
        </footer>
    </main>
    <!-- get the score board -->
    <script>
        (async () => {

            const {data: leaderboard} = await axios.get("https://theakatsuki.xyz/api/leaderboard");
            
            leaderboard.leaderboard.forEach(row => {
                let item = `
                <tr>
                            <td>
                                <div class="">
                                    <p class="">${row.username}</p>
                                </div>
                            </td>
                            <td>${row.mode}</td>
                            <td >
                                <span class="">${row.score}</span>
                            </td>
                        </tr>
                `
                document.querySelector("#leaderboard").innerHTML += item;
            })
        })()
    </script>
</body>
</html>